% -*- mode: erlang -*-
% vi: set ft=erlang :

[
    {tpnode, [
        {rpcport, 43283},
        {tpic, #{
            port=>43213,
            peers=>[
                %{"2001:67C:360:21::F0E",43211},
                %{"::1",43212},
                %{"2001:67c:380:34:8a51:fbff:fe48:d23e",43211},
                %{"195.3.252.69", 43211}
                %{"192.168.34.20",43211}
                %{"::1",43201}
                {"127.0.0.1",43212}
            ]
        }
        },
        {discovery,
            #{
                max_allowed_ttl => 1800,  % max allowed ttl of services
                our_ttl => 120,           % ttl of our service announce
                announce_interval => 20,  % interval for announcing our services
                addresses => [            % our addresses
                #{
                    address => "127.0.0.1",
                    port => 43213,
                    proto => tpic
                }
            ]
            }
        },
        {trusted_keys, [
            "035AE7DF4FCB5B97A86FCEBB107D440858DDFB28C708E70E06C625AA210E8A6F16",
            "020783EF674851FCE9BED45B494D838C6B5F394F175B37DD26A511F29E1F21394B",
            "0260CC110AF0A34E7CD51C287320612F017B52AABBEA8EBFA619CF94FDE823C36C"
        ]},
        {privkey,
            "AE1FCEA2F6366D227796C68FF4665523F7D81818DE3321DA5673EE0BFB6CF762"
        },
        {min_signs, 2},
        {endless, [
            <<"17xCVv2ArEpHBmhskE3dGKHJ8woa6moB4a">>
        ]},
        {tpfaucet, [
            {register, [
                {<<"FTT">>, 100}
            ]},
            {tokens, [
                {<<"FTT">>, #{
                    addr => <<"17xCVv2ArEpHBmhskE3dGKHJ8woa6moB4a">>,
                    key => <<"5Kh9DfFypQNSd1GbGYNuHXsuaRcKVfcAWkrEQDJUMEZfi7yrvzm">>
                }
                }
            ]}
        ]}
    ]},
    {lager, [
        {colored, true},
        {handlers, [
            {lager_file_backend, [
                {file, "log/info_n3.log"},
                {formatter_config,
                    [time, " [", severity, "] ", message, "\n"]
                },
                {level, info},
                {size, 10485760},
                {date, "$D0"},
                {count, 2}
            ]},

            {lager_file_backend, [
                {file, "log/error.log"},
                {level, error},
                {size, 10485760},
                {date, "$D0"},
                {count, 5}
            ]},
            {lager_file_backend, [
                {file, "log/debug_n3.log"},
                {level, debug},
                {size, 10485760},
                {date, "$D0"},
                {count, 5}
            ]},
            {lager_file_backend, [
                {file, "log/console_n3.log"},
                {level, info},
                {size, 10485760},
                {date, "$D0"},
                {count, 5}
            ]}
        ]}
    ]}
].
